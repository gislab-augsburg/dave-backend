{
  "openapi": "3.0.1",
  "info": {
    "title": "DAVE GEODATA EAI",
    "description": "DAVE GEODATA EAI - Service zum Abfragen von Geoinformationen",
    "contact": {
      "name": "DAVE Management",
      "email": "unbekannt@muenchen.de"
    },
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8088",
      "description": "Generated server url"
    }
  ],
  "tags": [
    {
      "name": "PointFeature",
      "description": "API zum Abfragen des FeatureServers für Punkt-Koordinaten."
    },
    {
      "name": "MesswerteMessquerschnitt",
      "description": "API zum Abfragen des FeatureServers für Messwerte eines Messquerschnitts."
    }
  ],
  "paths": {
    "/point/stadtbezirke": {
      "post": {
        "tags": [
          "PointFeature"
        ],
        "summary": "Holt die Stadtbezirke die sich mit dem Punkt (im Standard EPSG:4326 (WGS84)) überschneiden.",
        "operationId": "getStadtbezirke",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PointGeometryDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "500": {
            "description": "Bei der Erstellung oder Durchführung des Requests ist ein Fehler aufgetreten.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/InformationResponseDto"
                }
              }
            }
          },
          "200": {
            "description": "Stadtbezirke erfolgreich abgefragt.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FeatureCollectionDtoFeatureDtoStadtbezirkDto"
                }
              }
            }
          }
        }
      }
    },
    "/messwerte/messquerschnitt/tagesaggregat": {
      "post": {
        "tags": [
          "MesswerteMessquerschnitt"
        ],
        "summary": "Holt die Messwerte als Tagesaggregat zur einer Zählstelle in einem bestimmten Zeitraum.",
        "operationId": "getMesswerteTagesaggregat",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GetMesswerteMessquerschnittRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "500": {
            "description": "Bei der Erstellung oder Durchführung des Requests ist ein Fehler aufgetreten.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/InformationResponseDto"
                }
              }
            }
          },
          "200": {
            "description": "Messwerte als Tagesaggregat erfolgreich abgefragt.",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MesswerteTagesaggregatMessquerschnittDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/messwerte/messquerschnitt/intervall": {
      "post": {
        "tags": [
          "MesswerteMessquerschnitt"
        ],
        "summary": "Holt die Messwerte als Intervall zur einer Zählstelle in einem bestimmten Zeitraum.",
        "operationId": "getMesswerteIntervall",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GetMesswerteMessquerschnittRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "500": {
            "description": "Bei der Erstellung oder Durchführung des Requests ist ein Fehler aufgetreten.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/InformationResponseDto"
                }
              }
            }
          },
          "200": {
            "description": "Messwerte als Intervall erfolgreich abgefragt.",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MesswerteIntervallMessquerschnittDto"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "PointGeometryDto": {
        "required": [
          "coordinates",
          "type"
        ],
        "type": "object",
        "description": "Die GEOJSON-Repräsentation einer Punktkoordinate.",
        "allOf": [
          {
            "$ref": "#/components/schemas/GeometryDto"
          },
          {
            "type": "object",
            "properties": {
              "coordinates": {
                "maxItems": 2,
                "minItems": 2,
                "type": "array",
                "description": "Die Punktkoordinate ([x,y] bzw. [longitude, latitude]) im Standard EPSG:4326 (WGS84).",
                "items": {
                  "type": "number",
                  "description": "Die Punktkoordinate ([x,y] bzw. [longitude, latitude]) im Standard EPSG:4326 (WGS84)."
                }
              }
            }
          }
        ]
      },
      "InformationResponseDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "ERROR",
              "WARNING",
              "INFORMATION_SUCCESS",
              "INFORMATION_NEUTRAL"
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "traceId": {
            "type": "string"
          },
          "spanId": {
            "type": "string"
          },
          "httpStatus": {
            "type": "integer",
            "format": "int32"
          },
          "originalException": {
            "type": "string"
          },
          "messages": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "FeatureCollectionDtoFeatureDtoStadtbezirkDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "features": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FeatureDtoStadtbezirkDto"
            }
          }
        }
      },
      "FeatureDtoStadtbezirkDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "geometry": {
            "oneOf": [
              {
                "$ref": "#/components/schemas/PointGeometryDto"
              }
            ]
          },
          "properties": {
            "$ref": "#/components/schemas/StadtbezirkDto"
          }
        }
      },
      "GeometryDto": {
        "required": [
          "type"
        ],
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Definiert den Geometrietyp in der Ausprägung als Multipolygon oder als Point."
          }
        },
        "discriminator": {
          "propertyName": "type"
        }
      },
      "StadtbezirkDto": {
        "type": "object",
        "properties": {
          "objectId": {
            "type": "integer",
            "format": "int64"
          },
          "stadtbezirkNummer": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "flaecheQm": {
            "type": "number"
          },
          "xcoordinate": {
            "type": "number"
          },
          "ycoordinate": {
            "type": "number"
          }
        }
      },
      "GetMesswerteMessquerschnittRequest": {
        "required": [
          "messstelleId",
          "zeitpunktStart"
        ],
        "type": "object",
        "properties": {
          "messstelleId": {
            "type": "integer",
            "format": "int64"
          },
          "zeitpunktStart": {
            "type": "string",
            "format": "date"
          },
          "zeitpunktEnde": {
            "type": "string",
            "format": "date"
          },
          "tagesTyp": {
            "type": "string",
            "enum": [
              "WERKTAG_DI_MI_DO",
              "WERKTAG_MO_FR",
              "SAMSTAG",
              "SONNTAG_FEIERTAG",
              "WERKTAG_FERIEN"
            ]
          }
        }
      },
      "MesswerteTagesaggregatMessquerschnittDto": {
        "type": "object",
        "properties": {
          "mqId": {
            "type": "integer",
            "format": "int64"
          },
          "datum": {
            "type": "string",
            "format": "date"
          },
          "tagesTyp": {
            "type": "string",
            "enum": [
              "WERKTAG_DI_MI_DO",
              "WERKTAG_MO_FR",
              "SAMSTAG",
              "SONNTAG_FEIERTAG",
              "WERKTAG_FERIEN"
            ]
          },
          "plausibilitaetsInfo": {
            "type": "string"
          },
          "anzahlLfw": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlKrad": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlLkw": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlBus": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlRad": {
            "type": "integer",
            "format": "int32"
          },
          "summeAllePkw": {
            "type": "integer",
            "format": "int32"
          },
          "summeLastzug": {
            "type": "integer",
            "format": "int32"
          },
          "summeGueterverkehr": {
            "type": "integer",
            "format": "int32"
          },
          "summeSchwerverkehr": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehr": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehrSpitzenstundeZeitblock0006": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehrSpitzenstundeZeitblock0610": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehrSpitzenstundeZeitblock1015": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehrSpitzenstundeZeitblock1519": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehrSpitzenstundeZeitblock1924": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehrSpitzenstundeZeitblock0024": {
            "type": "integer",
            "format": "int32"
          },
          "summeRadSpitzenstundeZeitblock0006": {
            "type": "integer",
            "format": "int32"
          },
          "summeRadSpitzenstundeZeitblock0610": {
            "type": "integer",
            "format": "int32"
          },
          "summeRadSpitzenstundeZeitblock1015": {
            "type": "integer",
            "format": "int32"
          },
          "summeRadSpitzenstundeZeitblock1519": {
            "type": "integer",
            "format": "int32"
          },
          "summeRadSpitzenstundeZeitblock1924": {
            "type": "integer",
            "format": "int32"
          },
          "summeRadSpitzenstundeZeitblock0024": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeKraftfahrzeugverkehrZeitblock0006": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeKraftfahrzeugverkehrZeitblock0610": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeKraftfahrzeugverkehrZeitblock1015": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeKraftfahrzeugverkehrZeitblock1519": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeKraftfahrzeugverkehrZeitblock1924": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeKraftfahrzeugverkehrZeitblock0024": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeRadZeitblock0006": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeRadZeitblock0610": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeRadZeitblock1015": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeRadZeitblock1519": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeRadZeitblock1924": {
            "type": "integer",
            "format": "int32"
          },
          "spitzenstundeRadZeitblock0024": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MesswerteIntervallMessquerschnittDto": {
        "type": "object",
        "properties": {
          "mqId": {
            "type": "integer",
            "format": "int64"
          },
          "datumUhrzeitVon": {
            "type": "string",
            "format": "date-time"
          },
          "datumUhrzeitbis": {
            "type": "string",
            "format": "date-time"
          },
          "tagesTyp": {
            "type": "string",
            "enum": [
              "WERKTAG_DI_MI_DO",
              "WERKTAG_MO_FR",
              "SAMSTAG",
              "SONNTAG_FEIERTAG",
              "WERKTAG_FERIEN"
            ]
          },
          "plausibilitaetsInfo": {
            "type": "string"
          },
          "anzahlPkw": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlPkwA": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlLfw": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlKrad": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlLkw": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlLkwA": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlSattelKfz": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlBus": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlNkKfz": {
            "type": "integer",
            "format": "int32"
          },
          "anzahlRad": {
            "type": "integer",
            "format": "int32"
          },
          "summeAllePkw": {
            "type": "integer",
            "format": "int32"
          },
          "summeLastzug": {
            "type": "integer",
            "format": "int32"
          },
          "summeGueterverkehr": {
            "type": "integer",
            "format": "int32"
          },
          "summeSchwerverkehr": {
            "type": "integer",
            "format": "int32"
          },
          "summeKraftfahrzeugverkehr": {
            "type": "integer",
            "format": "int32"
          },
          "geschwindigkeitPkw": {
            "type": "integer",
            "format": "int32"
          },
          "geschwindigkeitLkw": {
            "type": "integer",
            "format": "int32"
          }
        }
      }
    }
  }
}